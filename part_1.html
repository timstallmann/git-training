<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Git Training, Part 1</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/night.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
		<style>
			.container{
				display: flex;
			}
			.col{
				flex: 1;
				flex-basis: 50vw;
				padding: 0 1rem;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
<section>
	<h1>Git training</h1>
	For DataWorks, 2021
</section>
<section>
	<h2>What is git?</h2>
	<blockquote>Git is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency.</blockquote>
	<cite>https://git-scm.com/</cite>
</section>
<section>
	<h3>Version control system</h3>
	<ul>
	<li>Git stores snapshots (commits) of your files
	<li>You can use these to move backward and forward in time (like a more powerful undo/redo)
		<li>But you can <b>also</b> work on different branches at the same time
	</ul>
</section>
<section>
	<h3>Distributed</h3>
	<ul>
	<li>Nearly everything happens on your local machine.</li>
	<li>Everyone using a git repository has their own copy of the history of that repository.</li>
	<li>There's no central server</li>
</ul>
</section>
<section>
	<h3>So what is github?</h3>
	<p>Github is a git server & a web-based interface to browse and manage git repositories.
	<ul>
		<li>You can store a git repo on github (or not!)
		<li>You can use github's interface to merge branches, view pull requests, and even edit files
		<li>Bitbucket and Gitlab are two other similar tools</li>
</ul>
</section>
				<section>
					<h3>Key concepts: Staging area</h3>
					<img src="img/staging-vs-commit.png">
					<p>Source: Pro Git, section 1.3</p>
				</section>
				<section>
					<h3>Commands</h3>
					<dl>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git status </code></pre></dt><dd class="fragment fade-in">shows which files are tracked, modified,and staged</dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git add &lang;filename or directory&rang;</code></pre></dt><dd class="fragment fade-in">adds a file or directory to the staging area</dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git add -p</code></pre></dt><dd class="fragment fade-in">interactively add changes to the staging area one-by-one</dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git add -a</code></pre></dt><dd class="fragment fade-in">add *all* changed files to the staging area</dd>
						</dl>
				</section>
				<section>
					<dl>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git diff</code></pre></dt><dd class="fragment fade-in">shows you the changes which are currently in your staging area</dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git reset</code></pre></dt><dd class="fragment fade-in">resets the staging area (but does <em>not</em> change the files on disk)</dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git reset --hard</code></pre></dt><dd class="fragment fade-in">resets the staging area <em>and</em> changes the files on disk</dd>
					</dl>
				</section>
				<section>
					<h3>Key concepts: Commit</h3>
					<img src="img/Commit-Example.png" class="r-stretch">
					<aside class="notes">
					Question -- what information do you see in this snapshot?

						A commit is a snapshot at a particular point in time of the state of the codebase.
					Each commit is identified only by a unique number (a cryptographic hash) that is computed using the state of the repository, along with a pointer to the previous commit.
					One of the things that make git so powerful is that it stores only those files which have changed since the previous commit.
					</aside>
				</section>
				<section>
					<h3>Commands</h3>
					<dl>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git diff --check</code></pre></dt><dd class="fragment fade-in">check if your changes introduce whitespace errors before you make a commit</dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git commit</code></pre></dt><dd class="fragment fade-in">creates a new commit and open up your default editor to edit the commit message. (n.b. <code>git config --global core.editor "nano"</code> to set the default editor to nano).</dd>
					</dl>
						</section>
				<section>
					<dl>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git commit -m "&lang;commit message&rang;" </code></pre></dt><dd class="fragment fade-in">creates a new commit from the changes which are currently staged, with a shorter (one-line) commit message</dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git show</code></pre></dt><dd class="fragment fade-in">displays the commit message and file changes associated with the current commit</dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git log</code></pre></dt><dd class="fragment fade-in">shows the commit history</dd>
					</dl>
				</section>
				<section>
					<h3>Sidebar: Commit messages</h3>
						<img class="col" src="img/Commit-History.png">
					<aside class="notes">
						Commit messages are (sometimes the only) notes to future developers about what a code change does.
						What information do you get from these commit messages?
					</aside>
				</section>
				<section>
					<img src="img/Commit-Message-Example.png">
					<p>Source: <a href="https://git-scm.com/book/en/v2/Distributed-Git-Contributing-to-a-Project">Pro Git, section 5.2</a>></p>
				</section>
					<section>
					<h3>Key concepts: Branch</h3>
					<img src="img/Git-Branching.png" class="r-stretch">
					<aside class="notes">
						A branch is just a pointer to a particular commit.
						Most repositories have a special default branch called master or main.
						A merge commit combines the commits in two branches (usually master/main and a feature branch
						We usually create merge commits as a result of a pull request
						Even if you delete a branch, the individual commits are still in gits database, accessible by their hash numbers
					</aside>
				</section>
				<section>
					<h3>Commands</h3>
					<dl>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git checkout &lang;branch-name&rang; </code></pre></dt><dd class="fragment fade-in">switches to a different branch</dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git checkout -b &lang;branch-name&rang; </code></pre></dt><dd class="fragment fade-in">creates a new branch, <em>rooted in your current commit</em></dd>
						<dt class="fragment fade-in"><pre><code class="language-bash" data-trim data-noescape>git branch</code></pre></dt><dd class="fragment fade-in">list branches you have locally, with a * next to the branch you're currently on</dd>
					</dl>
				</section>
				<section>
					<h3>Your turn!</h3>
					<ol>
						<li>Clone the <a href="https://github.com/timstallmann/git-training-sample">git-training-sample repository</a></li>
						<li>Create a new branch, named with your name</li>
						<li>Add two commits to the branch:
							<ul>
								<li>In one commit, edit the <em>notes.txt</em> file and add one thing you've learned so far after the colon witn your name</li>
								<li>In a second commit, add a cute animal photo to the photos directory</li>
								</ul>
						</li>
						<li>Run <em>git log</em> and paste a screenshot of the output to the slack channel</li>
					</ol>
				</section>
				<section>
					<h3>Questions/reflections?</h3>
				</section>
		</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
